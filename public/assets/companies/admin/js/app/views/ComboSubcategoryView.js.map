{"version":3,"sources":["../../../../../../../resources/assets/js/src/companies/admin/app-es6/views/ComboSubcategoryView.js"],"names":["ComboSubcategoryView","categoryId","result","element","$","html","ListSubcategoryService","subcategoriesActive","done","data","remove","removeAttr","prop","length","forEach","item","option","val","id","text","name","append","always","fail"],"mappings":";;;;;;IAAMA,oB;;;;;;;sCAEmBC,U,EAAY;;AAE7B,gBAAIC,eAAJ;AAAA,gBAAYC,gBAAZ;;AAEAA,sBAAUC,EAAE,iBAAF,CAAV;AACAD,oBAAQE,IAAR,CAAa,gDAAb;;AAEAH,qBAASI,uBAAuBC,mBAAvB,CAA2CN,UAA3C,CAAT;;AAEAC,mBAAOM,IAAP,CAAY,UAACC,IAAD,EAAU;;AAElBL,kBAAE,yCAAF,EAA6CM,MAA7C;AACAP,wBAAQQ,UAAR,CAAmB,UAAnB;AACAR,wBAAQS,IAAR,CAAa,UAAb,EAAyB,IAAzB;;AAEA,oBAAIH,KAAKI,MAAL,GAAc,CAAlB,EAAqB;;AAEjBV,4BAAQE,IAAR,CAAa,oDAAb;AACH;;AAEDI,qBAAKK,OAAL,CAAa,UAACC,IAAD,EAAU;AACnB,wBAAIC,eAAJ;AACAA,6BAASZ,EAAE,UAAF,EAAca,GAAd,CAAkBF,KAAKG,EAAvB,EAA2BC,IAA3B,CAAgCJ,KAAKK,IAArC,CAAT;AACAjB,4BAAQkB,MAAR,CAAeL,MAAf;AACA;AACH,iBALD;AAOH,aAlBD;;AAoBAd,mBAAOoB,MAAP,CAAc,UAASb,IAAT,EAAe;AACzB,oBAAGA,KAAKI,MAAL,IAAe,CAAlB,EAAqB;AACjBV,4BAAQS,IAAR,CAAa,UAAb,EAAyB,IAAzB;AACAT,4BAAQE,IAAR,CAAa,iEAAb;AACH;AACJ,aALD;;AAOAH,mBAAOqB,IAAP,CAAY,YAAM;AACd;AACH,aAFD;AAIH","file":"ComboSubcategoryView.js","sourcesContent":["class ComboSubcategoryView {\n\n    static subcategories(categoryId) {\n\n        let result, element;\n\n        element = $('#subcategory_id');\n        element.html('<option value=\"loading\">Carregando...</option>');\n\n        result = ListSubcategoryService.subcategoriesActive(categoryId);\n\n        result.done((data) => {\n\n            $(\"#subcategory_id option[value='loading']\").remove();\n            element.removeAttr('disabled');\n            element.prop('required', true);\n\n            if (data.length > 1) {\n\n                element.html('<option value=\"\">Selecione a Subcategoria</option>');\n            }           \n\n            data.forEach((item) => {\n                let option;\n                option = $('<option>').val(item.id).text(item.name);\n                element.append(option);\n                //element.html(option);\n            });\n\n        });\n\n        result.always(function(data) {\n            if(data.length <= 0) {\n                element.prop('disabled', true);\n                element.html('<option value=\"\">NÃ£o possui subcategorias cadastradas.</option>');\n            }\n        });\n\n        result.fail(() => {\n            //alert('Houve um erro ao carregar Cidades do servidor!');\n        });\n\n    }\n\n}\n"]}