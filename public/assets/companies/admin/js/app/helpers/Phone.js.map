{"version":3,"sources":["../../../../../../../resources/assets/js/src/companies/admin/app-es6/helpers/Phone.js"],"names":["CheckRegisteredPhone","$","document","on","number","val","length","_check","numberCheckDb","replace","parameters","data","url","response","HttpService","ajax","done","obj","Object","keys","forEach","value","key","v","name_fantasy","boxSwal","fail","alert","nameCompany","swal","title","text","type","html","showCancelButton","cancelButtonClass","cancelButtonText","confirmButtonClass","confirmButtonText","closeOnConfirm","closeOnCancel","isConfirm"],"mappings":";;;;;;IAAMA,oB;;;;;;;0BAEU;;AAEdC,KAAEC,QAAF,EAAYC,EAAZ,CAAe,MAAf,EAAuB,6BAAvB,EAAsD,YAAY;;AAEjE,QAAIC,SAASH,EAAE,IAAF,EAAQI,GAAR,EAAb;;AAEA,QAAID,OAAOE,MAAP,IAAiB,EAArB,EAAyB;AACxBN,0BAAqBO,MAArB,CAA4BH,MAA5B;AACA;AAED,IARD;AAUA;;;yBAEa;;AAEbH,KAAEC,QAAF,EAAYC,EAAZ,CAAe,MAAf,EAAuB,4BAAvB,EAAqD,YAAY;;AAEhE,QAAIC,SAASH,EAAE,IAAF,EAAQI,GAAR,EAAb;;AAEA,QAAID,OAAOE,MAAP,IAAiB,EAArB,EAAyB;AACxBN,0BAAqBO,MAArB,CAA4BH,MAA5B;AACA;AAED,IARD;AAUA;;;2BAEe;;AAEfH,KAAEC,QAAF,EAAYC,EAAZ,CAAe,MAAf,EAAuB,8BAAvB,EAAuD,YAAY;;AAElE,QAAIC,SAASH,EAAE,IAAF,EAAQI,GAAR,EAAb;;AAEA,QAAID,OAAOE,MAAP,GAAgB,CAApB,EAAuB;AACtBN,0BAAqBO,MAArB,CAA4BH,MAA5B;AACA;AAED,IARD;AAUA;;;yBAEaA,M,EAAQ;;AAErB,OAAII,gBAAgBJ,OAAOK,OAAP,CAAe,SAAf,EAAyB,EAAzB,CAApB;;AAEA,OAAIC,aAAa;AAChBC,UAAM,EAAEP,QAAQI,aAAV,EADU;AAEhBI,SAAK;AAFW,IAAjB;;AAKA,OAAIC,WAAWC,YAAYC,IAAZ,CAAiBL,UAAjB,CAAf;;AAEAG,YAASG,IAAT,CAAc,UAACC,GAAD,EAAS;;AAEtBC,WAAOC,IAAP,CAAYF,GAAZ,EAAiBG,OAAjB,CAAyB,eAAO;AAC/B,SAAIC,QAAQJ,IAAIK,GAAJ,CAAZ;AACAJ,YAAOC,IAAP,CAAYE,KAAZ,EAAmBD,OAAnB,CAA2B,eAAO;AACjC,UAAIG,IAAIF,MAAMC,GAAN,CAAR;AACA,UAAIC,EAAEC,YAAF,KAAkB,WAAlB,IAAiCD,EAAEC,YAAvC,EAAqD;AACpDxB,4BAAqByB,OAArB,CAA6BF,EAAEC,YAA/B,EAA6CpB,MAA7C;AACA;AACD,MALD;AAMA,KARD;AASA,IAXD;;AAaAS,YAASa,IAAT,CAAc,YAAM;AACnBC,UAAM,0DAAN;AACA;AACA,IAHD;AAKA;;;0BAEcC,W,EAAaxB,M,EAAQ;;AAEnCyB,QAAK;AACJC,4DAAiD1B,MAAjD,8DAA6GwB,WAA7G,UADI;AAEJG,UAAM,mDAFF;AAGJC,UAAM,SAHF;AAIJC,UAAM,IAJF;;AAMJC,sBAAkB,IANd;AAOJC,uBAAmB,YAPf;AAQJC,sBAAkB,KARd;AASJC,wBAAoB,aAThB;AAUJC,uBAAmB,KAVf;AAWJC,oBAAgB,KAXZ;AAYJC,mBAAe;;AAZX,IAAL,EAgBA,UAAUC,SAAV,EAAqB;;AAEpB,QAAIA,SAAJ,EAAe;;AAEdZ,UAAK;AACJI,YAAM,IADF;AAEJH,aAAO,UAFH;AAGJC,+DAAkD3B,MAAlD,gDAAgGwB,WAAhG,4CAHI;AAIJI,YAAM;AAJF,MAAL;AAOA,KATD,MASO;;AAENH,UAAK;AACJI,YAAM,IADF;AAEJH,aAAO,YAFH;AAGJC,yDAHI;AAIJC,YAAM;AAJF,MAAL;AAOA;AACD,IArCD;AAuCA","file":"Phone.js","sourcesContent":["class CheckRegisteredPhone {\n\n\tstatic fixed() {\n\n\t\t$(document).on('blur', 'input[name=\"phone_fixed[]\"]', function () {\n\n\t\t\tlet number = $(this).val();\n\n\t\t\tif (number.length >= 10) {\n\t\t\t\tCheckRegisteredPhone._check(number);\n\t\t\t}\n\n\t\t});\n\n\t}\n\n\tstatic cell() {\n\n\t\t$(document).on('blur', 'input[name=\"phone_cell[]\"]', function () {\n\n\t\t\tlet number = $(this).val();\n\n\t\t\tif (number.length >= 11) {\n\t\t\t\tCheckRegisteredPhone._check(number);\n\t\t\t}\n\n\t\t});\n\n\t}\n\n\tstatic outher() {\n\n\t\t$(document).on('blur', 'input[name=\"phone_outher[]\"]', function () {\n\n\t\t\tlet number = $(this).val();\n\n\t\t\tif (number.length > 1) {\n\t\t\t\tCheckRegisteredPhone._check(number);\n\t\t\t}\n\n\t\t});\n\n\t}\n\n\tstatic _check(number) {\n\n\t\tlet numberCheckDb = number.replace(/[^\\d]+/g,'');\t\t\n\n\t\tlet parameters = {\n\t\t\tdata: { number: numberCheckDb } ,\n\t\t\turl: '/admin/ajax/phone/check/'\n\t\t};\n\n\t\tlet response = HttpService.ajax(parameters);\n\n\t\tresponse.done((obj) => {                    \n\n\t\t\tObject.keys(obj).forEach(key => {\n\t\t\t\tlet value = obj[key];\n\t\t\t\tObject.keys(value).forEach(key => {\n\t\t\t\t\tlet v = value[key];\n\t\t\t\t\tif (v.name_fantasy !=='undefined' && v.name_fantasy) {\n\t\t\t\t\t\tCheckRegisteredPhone.boxSwal(v.name_fantasy, number)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\t\t\t  \n\t\t});\n\n\t\tresponse.fail(() => {\n\t\t\talert('Houve um erro na solicitação do pedido, tente novamente!');\n\t\t\t//location.reload();\n\t\t});\n\n\t}\n\n\tstatic boxSwal(nameCompany, number) {\n\t\n\t\tswal({\n\t\t\ttitle: `Número <span style='color:red'><strong>${number}</strong></span> já cadastrado em nome <br />de <b>${nameCompany}</b>.`,\n\t\t\ttext: \"Deseja criar novo cadastro usando o mesmo número?\",\n\t\t\ttype: \"warning\",\n\t\t\thtml: true,\n\n\t\t\tshowCancelButton: true,\n\t\t\tcancelButtonClass: \"btn-danger\",\n\t\t\tcancelButtonText: \"NÃO\",\n\t\t\tconfirmButtonClass: \"btn-success\",\n\t\t\tconfirmButtonText: \"SIM\",\n\t\t\tcloseOnConfirm: false,\n\t\t\tcloseOnCancel: false\n\n\n\t\t},\n\t\tfunction (isConfirm) {\n\n\t\t\tif (isConfirm) {\n\n\t\t\t\tswal({\n\t\t\t\t\thtml: true,\n\t\t\t\t\ttitle: \"ATENÇÃO!\",\n\t\t\t\t\ttext: `O número <span style='color:red'><strong>${number}</strong></span> será removido de <b>${nameCompany}</b> e adicionado a este novo cadastro.`,\n\t\t\t\t\ttype: \"warning\"\n\t\t\t\t});\n\n\t\t\t} else {\n\n\t\t\t\tswal({\n\t\t\t\t\thtml: true,\n\t\t\t\t\ttitle: \"Cancelado!\",\n\t\t\t\t\ttext: `Cadastro de telefone cancelado com sucesso.`,\n\t\t\t\t\ttype: \"success\"\n\t\t\t\t});\n\n\t\t\t}\n\t\t});\n\n\t}\n\n}"]}