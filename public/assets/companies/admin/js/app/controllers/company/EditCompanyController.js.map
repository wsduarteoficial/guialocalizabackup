{"version":3,"sources":["../../../../../../../../resources/assets/js/src/companies/admin/app-es6/controllers/company/EditCompanyController.js"],"names":["EditCompanyController","service","EditCompanyService","view","EditCompanyView","$","mask","ComboStateView","states_company_edit","ComboCityView","cities_edit_company","value","attr","on","PhoneService","removeItem","GalleryService","data","plan_id","removeClass","addClass","removeAttr","_typeRedirect","e","_checkFillDistrictIsSuggest","preventDefault","_checkFillPlaceIsSuggest","bind","CompanyRemoveService","removeCompanyEdit","CompanyUpdateStatusService","updateStatusEdit","_controlClassHidePlan","ComboPlanView","companies_plans","plansActive","selectPlan","addInputPhoneFixed","addInputPhoneCell","addInputPhoneOthers","checkPhone","changeCategory","maskPhone","countCharactersSEO","openModalRegister","focusZipcode","submitModal","_sendForm","_removePhone","_removePhotoGallery","_loadStateCity","_controlDisabled","ClientService","checkIsExistsCpfCnpj","ClientCheckEmailService","ckeckEmailExists","CompanyAddressService","checkZipCode","cities","suggest","autoCompleteDistrict","autoCompletePlace","BaseCompanyController"],"mappings":";;;;;;;;;;;;IAAMA,qB;;;AAEL,kCAAc;AAAA;;AAAA;;AAEP,QAAKC,OAAL,GAAe,IAAIC,kBAAJ,EAAf;AACA,QAAKC,IAAL,GAAY,IAAIC,eAAJ,EAAZ;AAHO;AAIV;;;;+BAES;AACN;AACN;;;mCAEe;AACT;AACN;;;8BAEW;AACX,OAAGC,EAAEC,IAAL,EAAW;AACVD,MAAE,4BAAF,EAAgCC,IAAhC,CAAqC,kBAArC;AACAD,MAAE,6BAAF,EAAiCC,IAAjC,CAAsC,gBAAtC;AACA;AACK;AACN;;;uCAEoB;AACd;AACN;;;iCAEc;AACd;AACA;;;sCAEmB;AACnB,mJAAwB,0BAAxB;AACA,mJAAwB,uBAAxB;AACA;;;gCAEa;AACb,6IAAkB,qCAAlB;AACA,6IAAkB,kCAAlB;AACA;;;mCAEgB;AAChBC,kBAAeC,mBAAf;AACAC,iBAAcC,mBAAd;AACA;;;kCAEuB;AAAA,OAAVC,KAAU,uEAAJ,EAAI;;AACvBN,KAAE,6BAAF,EAAiCO,IAAjC,CAAsC,OAAtC,EAA+CD,KAA/C;AACA;;;iCAEc;AACdN,KAAE,mGAAF,EAAuGQ,EAAvG,CAA0G,OAA1G,EAAmH,YAAW;AAC7HC,iBAAaC,UAAb,CAAyBV,EAAE,IAAF,CAAzB;AACA,IAFD;AAGA;;;wCAEqB;AACrBA,KAAE,0BAAF,EAA8BQ,EAA9B,CAAiC,OAAjC,EAA0C,YAAW;AACpDG,mBAAeD,UAAf,CAA2BV,EAAE,IAAF,EAAQY,IAAR,CAAa,IAAb,CAA3B;AACA,IAFD;AAGA;;;wCAEqBC,O,EAAS;;AAE9B,OAAIA,UAAU,CAAd,EAAkB;AACjBb,MAAE,yDAAF,EAA6Dc,WAA7D,CAAyE,MAAzE;AACAd,MAAE,mBAAF,EAAuBO,IAAvB,CAA4B,UAA5B,EAAwC,IAAxC;AACA,IAHD,MAGO;AACNP,MAAE,yDAAF,EAA6De,QAA7D,CAAsE,MAAtE;AACAf,MAAE,mBAAF,EAAuBO,IAAvB,CAA4B,UAA5B,EAAwC,KAAxC;AACA;;AAEDP,KAAE,YAAF,EAAgBe,QAAhB,CAAyB,MAAzB;AAEA;;;gDAE6B;AAC7B;AACA;;;6CAE0B;AAC1B;AACA;;;qCAEkB;;AAElBf,KAAE,iBAAF,EAAqBgB,UAArB,CAAgC,UAAhC;AACAhB,KAAE,sBAAF,EAA0BgB,UAA1B,CAAqC,UAArC;AACAhB,KAAE,mBAAF,EAAuBgB,UAAvB,CAAkC,UAAlC;AACAhB,KAAE,qBAAF,EAAyBgB,UAAzB,CAAoC,UAApC;AACAhB,KAAE,wBAAF,EAA4BgB,UAA5B,CAAuC,UAAvC;AAEA;;;8BAEW;AAAA;;AAEXhB,KAAE,gBAAF,EAAoBQ,EAApB,CAAuB,OAAvB,EAAgC,YAAM;AACrC,WAAKS,aAAL,CAAmB,eAAnB;AACA,IAFD;;AAIAjB,KAAE,YAAF,EAAgBQ,EAAhB,CAAmB,OAAnB,EAA4B,YAAM;AACjC,WAAKS,aAAL,CAAmB,WAAnB;AACA,IAFD;;AAIAjB,KAAE,eAAF,EAAmBQ,EAAnB,CAAsB,OAAtB,EAA+B,YAAM;AACpC,WAAKS,aAAL,CAAmB,cAAnB;AACA,IAFD;;AAIAjB,KAAE,2BAAF,EAA+BQ,EAA/B,CAAkC,QAAlC,EAA4C,UAASU,CAAT,EAAW;;AAEtD,QAAG,CAAE,KAAKC,2BAAL,EAAL,EAA0C;AACzCD,OAAEE,cAAF;AACA,YAAO,KAAP;AACA;;AAED,QAAG,CAAE,KAAKC,wBAAL,EAAL,EAAuC;AACtCH,OAAEE,cAAF;AACA,YAAO,KAAP;AACA;AAED,IAZ2C,CAY1CE,IAZ0C,CAYrC,IAZqC,CAA5C;AAcA;;;yBAES;;AAEHtB,KAAE,YAAY;;AAEVuB,yBAAqBC,iBAArB;AACAC,+BAA2BC,gBAA3B;;AAET,QAAIb,UAAUb,EAAE,sBAAF,EAA0BO,IAA1B,CAA+B,SAA/B,CAAd;AACA,SAAKoB,qBAAL,CAA2Bd,OAA3B;AACAe,kBAAcC,eAAd,CAA+B,KAAKjC,OAAL,CAAakC,WAAb,EAA/B,EAA2DjB,OAA3D;;AAES,SAAKf,IAAL,CAAUiC,UAAV;AACA,SAAKjC,IAAL,CAAUkC,kBAAV,CAA6B,2BAA7B;AACA,SAAKlC,IAAL,CAAUmC,iBAAV,CAA4B,0BAA5B;AACA,SAAKnC,IAAL,CAAUoC,mBAAV,CAA8B,4BAA9B;;AAEA;AACA,SAAKC,UAAL;AACA,SAAKC,cAAL;AACA,SAAKC,SAAL;AACT,SAAKC,kBAAL;AACA,SAAKC,iBAAL;AACA,SAAKC,YAAL;AACA,SAAKC,WAAL;;AAEA,SAAKC,SAAL;AACA,SAAKC,YAAL;AACA,SAAKC,mBAAL;AACA,SAAKC,cAAL;AACA,SAAKC,gBAAL;;AAESC,kBAAcC,oBAAd;AACAC,4BAAwBC,gBAAxB;;AAETC,0BAAsBC,YAAtB;AACAD,0BAAsBE,MAAtB;AACAF,0BAAsBG,OAAtB;AACAH,0BAAsBI,oBAAtB;AACSJ,0BAAsBK,iBAAtB;AAIT,IAxCO,CAwCNlC,IAxCM,CAwCD,IAxCC,CAAF;AA0CH;;;;EAzK+BmC,qB","file":"EditCompanyController.js","sourcesContent":["class EditCompanyController extends BaseCompanyController {\n\n\tconstructor() {\n        super();\n        this.service = new EditCompanyService();\n        this.view = new EditCompanyView();\n    }\n\n\tcheckPhone() {\n        super.checkPhone();\n\t}\n\n\tchangeCategory(){\n        super.changeCategory();\n\t}\n\n\tmaskPhone() {\n\t\tif($.mask) {\n\t\t\t$('input[name=\"phone_cell[]\"]').mask('(99) 9-9999-9999');\n\t\t\t$('input[name=\"phone_fixed[]\"]').mask('(99) 9999-9999');\n\t\t}\n        super.maskPhone();\n\t}\n\n\tcountCharactersSEO() {\n        super.countCharactersSEO();\n\t}\n\n\tfocusZipcode() {\n\t\tsuper.focusZipcode();\n\t}\n\n\topenModalRegister() {\n\t\tsuper.openModalRegister('#modal-register-district');\n\t\tsuper.openModalRegister('#modal-register-place');\n\t}\n\n\tsubmitModal() {\n\t\tsuper.submitModal('form[name=create-register-district]');\n\t\tsuper.submitModal('form[name=create-register-place]');\n\t}\n\n\t_loadStateCity() {\n\t\tComboStateView.states_company_edit();\n\t\tComboCityView.cities_edit_company();\n\t}\n\n\t_typeRedirect(value='') {\n\t\t$('input[name=\"type_redirect\"]').attr('value', value);\n\t}\n\n\t_removePhone() {\n\t\t$('.jq_input_phone_cell_remove_db, .jq_input_phone_fixed_remove_db, .jq_input_phone_others_remove_db').on('click', function() {\n\t\t\tPhoneService.removeItem( $(this) );\n\t\t});\n\t}\n\n\t_removePhotoGallery() {\n\t\t$('.jq_remove_photo_gallery').on('click', function() {\n\t\t\tGalleryService.removeItem( $(this).data('id') );\n\t\t});\n\t}\n\n\t_controlClassHidePlan(plan_id) {\n\n\t\tif( plan_id > 1 ) {\n\t\t\t$('#info-sponsors-01, #info-sponsors-02, #info-sponsors-03').removeClass('hide');\n\t\t\t$('.jq_data_required').attr('required', true);\n\t\t} else {\n\t\t\t$('#info-sponsors-01, #info-sponsors-02, #info-sponsors-03').addClass('hide');\n\t\t\t$('.jq_data_required').attr('required', false);\n\t\t}\n\n\t\t$('#note-info').addClass('hide');\n\n\t}\n\n\t_checkFillDistrictIsSuggest() {\n\t\treturn super.checkFillDistrictIsSuggest();\n\t}\n\n\t_checkFillPlaceIsSuggest() {\n\t\treturn super.checkFillPlaceIsSuggest();\n\t}\n\n\t_controlDisabled() {\n\n\t\t$('#subcategory_id').removeAttr('disabled');\n\t\t$('input[name=district]').removeAttr('disabled');\n\t\t$('input[name=place]').removeAttr('disabled');\n\t\t$('input[name=numeral]').removeAttr('disabled');\n\t\t$('input[name=complement]').removeAttr('disabled');\n\n\t}\n\n\t_sendForm() {\n\n\t\t$('#save_continue').on('click', () => {\n\t\t\tthis._typeRedirect('save_continue');\n\t\t});\n\n\t\t$('#only_save').on('click', () => {\n\t\t\tthis._typeRedirect('only_save');\n\t\t});\n\n\t\t$('#save_add_new').on('click', () => {\n\t\t\tthis._typeRedirect('save_add_new');\n\t\t});\n\n\t\t$('form[name=\"edit-company\"]').on('submit', function(e){\n\n\t\t\tif(! this._checkFillDistrictIsSuggest() ) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif(! this._checkFillPlaceIsSuggest() ) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t}.bind(this));\n\n\t}\n\n    init() {\n\n        $(function () {\n\n            CompanyRemoveService.removeCompanyEdit();\n            CompanyUpdateStatusService.updateStatusEdit();\n\n\t\t\tlet plan_id = $('meta[name=\"plan_id\"]').attr(\"content\");\n\t\t\tthis._controlClassHidePlan(plan_id);\n\t\t\tComboPlanView.companies_plans( this.service.plansActive(), plan_id );\n\n            this.view.selectPlan();\n            this.view.addInputPhoneFixed('.jq_input_phone_fixed_add');\n            this.view.addInputPhoneCell('.jq_input_phone_cell_add');\n            this.view.addInputPhoneOthers('.jq_input_phone_others_add');\n\n            //fnc private\n            this.checkPhone();\n            this.changeCategory();\n            this.maskPhone();\n\t\t\tthis.countCharactersSEO();\n\t\t\tthis.openModalRegister();\n\t\t\tthis.focusZipcode();\n\t\t\tthis.submitModal();\n\n\t\t\tthis._sendForm();\n\t\t\tthis._removePhone();\n\t\t\tthis._removePhotoGallery();\n\t\t\tthis._loadStateCity();\n\t\t\tthis._controlDisabled();\n\n            ClientService.checkIsExistsCpfCnpj();\n            ClientCheckEmailService.ckeckEmailExists();\n\n\t\t\tCompanyAddressService.checkZipCode();\n\t\t\tCompanyAddressService.cities();\n\t\t\tCompanyAddressService.suggest();\n\t\t\tCompanyAddressService.autoCompleteDistrict();\n            CompanyAddressService.autoCompletePlace();\n\n\n\n\t\t}.bind(this));\n\n    }\n\n}\n"]}