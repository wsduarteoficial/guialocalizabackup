{"version":3,"sources":["../../../../../../../resources/assets/js/src/companies/admin/app-es6/services/ListCategoryService.js"],"names":["ListCategoryService","element","$","on","event","preventDefault","values","parameters","response","serialize","fadeOut","modal","data","url","HttpService","ajax","done","exists","alert","name","val","id","location","reload","fail","category_id","subcategory_id","textContent","elemHtml","category_name","categoryId","dataTo","txtAlert","confirm","icon","type","typeAnimated","title","content","buttons","cancel","text","keys","action","btnClass","total","toastr","parents","hide","document","subCategoryName","subCategoryId"],"mappings":";;;;;;IAAMA,mB;;;;;;;yCAEeC,O,EAAS;;AAEtBC,cAAED,OAAF,EAAWE,EAAX,CAAc,QAAd,EAAwB,UAAUC,KAAV,EAAkB;;AAEtCA,sBAAMC,cAAN;;AAEA,oBAAIC,eAAJ;AAAA,oBAAYC,mBAAZ;AAAA,oBAAwBC,iBAAxB;;AAEAF,yBAASJ,EAAE,IAAF,EAAQO,SAAR,EAAT;;AAEAP,kBAAE,0BAAF,EAA8BQ,OAA9B,CAAsC,MAAtC,EAA8C,YAAW;;AAErDR,sBAAE,IAAF,EAAQS,KAAR,CAAc,MAAd;AAEH,iBAJD;;AAMAJ,6BAAa;AACTK,0BAAMN,MADG;AAETO,yBAAK;AAFI,iBAAb;;AAKAL,2BAAWM,YAAYC,IAAZ,CAAiBR,UAAjB,CAAX;;AAEAC,yBAASQ,IAAT,CAAc,UAACJ,IAAD,EAAU;;AAEpB,wBAAIA,KAAKK,MAAL,KAAgB,IAApB,EAA0B;;AAEtBC,+CAAqBN,KAAKO,IAA1B;AACAjB,0BAAE,sBAAF,EAA0BkB,GAA1B,CAA8B,EAA9B;AAEH,qBALD,MAKO,IAAIR,KAAKS,EAAL,GAAQ,CAAZ,EAAe;;AAElBH,8BAAM,wCAAN;AACAI,iCAASC,MAAT;AAEH,qBALM,MAMF;AACD;AACAD,iCAASC,MAAT;AACH;AAEJ,iBAlBD;;AAoBAf,yBAASgB,IAAT,CAAc,YAAM;AAChB;AACAF,6BAASC,MAAT;AACH,iBAHD;AAKH,aA9CD;AAgDH;;;qCAGYtB,O,EAAS;;AAElBC,cAAED,OAAF,EAAWE,EAAX,CAAc,QAAd,EAAwB,UAAUC,KAAV,EAAkB;;AAEtCA,sBAAMC,cAAN;;AAEA,oBAAIC,eAAJ;AAAA,oBAAYC,mBAAZ;AAAA,oBAAwBC,iBAAxB;;AAEAF,yBAASJ,EAAE,IAAF,EAAQO,SAAR,EAAT;;AAEAP,kBAAE,sBAAF,EAA0BQ,OAA1B,CAAkC,MAAlC,EAA0C,YAAW;;AAEjDR,sBAAE,IAAF,EAAQS,KAAR,CAAc,MAAd;AAEH,iBAJD;;AAMAJ,6BAAa;AACTK,0BAAMN,MADG;AAETO,yBAAK;AAFI,iBAAb;;AAKAL,2BAAWM,YAAYC,IAAZ,CAAiBR,UAAjB,CAAX;;AAEAC,yBAASQ,IAAT,CAAc,UAACJ,IAAD,EAAU;;AAEpB,wBAAIA,KAAKK,MAAL,KAAgB,IAApB,EAA0B;;AAEtBC,+CAAqBN,KAAKO,IAA1B;AACAjB,0BAAE,sBAAF,EAA0BkB,GAA1B,CAA8B,EAA9B;AAEH,qBALD,MAKO,IAAIR,KAAKa,WAAL,GAAiB,CAArB,EAAwB;AAC3BP,8BAAM,iCAAN;AACAI,iCAASC,MAAT;AACH,qBAHM,MAIF;AACD;AACAD,iCAASC,MAAT;AACH;AAEJ,iBAhBD;;AAkBAf,yBAASgB,IAAT,CAAc,YAAM;AAChB;AACAF,6BAASC,MAAT;AACH,iBAHD;AAKH,aA5CD;AA8CH;;;wCAEetB,O,EAAS;;AAErBC,cAAED,OAAF,EAAWE,EAAX,CAAc,QAAd,EAAwB,UAAUC,KAAV,EAAkB;;AAEtCA,sBAAMC,cAAN;;AAEA,oBAAIC,eAAJ;AAAA,oBAAYC,mBAAZ;AAAA,oBAAwBC,iBAAxB;;AAEAF,yBAASJ,EAAE,IAAF,EAAQO,SAAR,EAAT;;AAEAP,kBAAE,yBAAF,EAA6BQ,OAA7B,CAAqC,MAArC,EAA6C,YAAW;;AAEpDR,sBAAE,IAAF,EAAQS,KAAR,CAAc,MAAd;AAEH,iBAJD;;AAMAJ,6BAAa;AACTK,0BAAMN,MADG;AAETO,yBAAK;AAFI,iBAAb;;AAKAL,2BAAWM,YAAYC,IAAZ,CAAiBR,UAAjB,CAAX;;AAEAC,yBAASQ,IAAT,CAAc,UAACJ,IAAD,EAAU;;AAEpB,wBAAIA,KAAKK,MAAL,KAAgB,IAApB,EAA0B;;AAEtBC,kDAAwBN,KAAKO,IAA7B;AACAjB,0BAAE,yBAAF,EAA6BkB,GAA7B,CAAiC,EAAjC;AAEH,qBALD,MAKO,IAAIR,KAAKc,cAAL,GAAoB,CAAxB,EAA2B;AAC9BR,8BAAM,oCAAN;AACAI,iCAASC,MAAT;AACH,qBAHM,MAIF;AACD;AACAD,iCAASC,MAAT;AACH;AAEJ,iBAhBD;;AAkBAf,yBAASgB,IAAT,CAAc,YAAM;AAChB;AACAF,6BAASC,MAAT;AACH,iBAHD;AAKH,aA5CD;AA8CH;;;4CAGmBtB,O,EAAS;;AAEzBC,cAAED,OAAF,EAAWE,EAAX,CAAc,QAAd,EAAwB,UAAUC,KAAV,EAAkB;;AAEtCA,sBAAMC,cAAN;;AAEA,oBAAIC,eAAJ;AAAA,oBAAYC,mBAAZ;AAAA,oBAAwBC,iBAAxB;;AAEAF,yBAASJ,EAAE,IAAF,EAAQO,SAAR,EAAT;;AAEAP,kBAAE,6BAAF,EAAiCQ,OAAjC,CAAyC,MAAzC,EAAiD,YAAW;;AAExDR,sBAAE,IAAF,EAAQS,KAAR,CAAc,MAAd;AAEH,iBAJD;;AAMAJ,6BAAa;AACTK,0BAAMN,MADG;AAETO,yBAAK;AAFI,iBAAb;;AAKAL,2BAAWM,YAAYC,IAAZ,CAAiBR,UAAjB,CAAX;;AAEAC,yBAASQ,IAAT,CAAc,UAACJ,IAAD,EAAU;;AAEpB,wBAAIA,KAAKK,MAAL,KAAgB,IAApB,EAA0B;;AAEtBC,kDAAwBN,KAAKO,IAA7B;AACAjB,0BAAE,yBAAF,EAA6BkB,GAA7B,CAAiC,EAAjC;AAEH,qBALD,MAKO,IAAIR,KAAKS,EAAL,GAAQ,CAAZ,EAAe;AAClBH,8BAAM,2CAAN;AACAI,iCAASC,MAAT;AACH,qBAHM,MAIF;AACD;AACAD,iCAASC,MAAT;AACH;AAEJ,iBAhBD;;AAkBAf,yBAASgB,IAAT,CAAc,YAAM;AAChB;AACAF,6BAASC,MAAT;AACH,iBAHD;AAKH,aA5CD;AA8CH;;;uCAEctB,O,EAAS;;AAEpBC,cAAED,OAAF,EAAWE,EAAX,CAAc,OAAd,EAAuB,YAAW;;AAE9B,oBAAIwB,oBAAJ;AAAA,oBACAC,iBADA;AAAA,oBAEAC,sBAFA;AAAA,oBAGAC,mBAHA;AAAA,oBAIAC,eAJA;AAAA,oBAKAxB,mBALA;AAAA,oBAMAyB,iBANA;AAAA,oBAOAxB,iBAPA;;AASAoB,2BAAW1B,EAAE,IAAF,CAAX;AACA4B,6BAAa5B,EAAE,IAAF,EAAQU,IAAR,CAAa,IAAb,CAAb;;AAEAiB,gCAAgB3B,EAAE,IAAF,EAAQU,IAAR,CAAa,MAAb,CAAhB;;AAEAe,sFAAoEE,aAApE;;AAEA3B,kBAAE+B,OAAF,CAAU;AACNC,0BAAM,mBADA;AAENC,0BAAM,MAFA;AAGNC,kCAAc,IAHR;AAINC,2BAAO,cAJD;AAKNC,6BAASX,WALH;AAMNY,6BAAS;AACLC,gCAAQ;AACJC,kCAAM,UADF;AAEJC,kCAAM,CAAC,KAAD,CAFF;AAGJC,oCAAQ,kBAAY;AAChBzC,kCAAEgB,KAAF,CAAQ,YAAR;AACH;;AALG,yBADH;;AAULe,iCAAS;AACLQ,kCAAM,WADD;AAELG,sCAAU,UAFL;AAGLF,kCAAM,CAAC,OAAD,CAHD;AAILC,oCAAQ,kBAAY;;AAGhBZ,yCAAS;AACLV,wCAAIS;AADC,iCAAT;;AAIAvB,6CAAa;AACTK,0CAAMmB,MADG;AAETlB,yCAAK;AAFI,iCAAb;;AAKAL,2CAAWM,YAAYC,IAAZ,CAAiBR,UAAjB,CAAX;;AAEAC,yCAASQ,IAAT,CAAc,UAACJ,IAAD,EAAU;;AAEpB,wCAAIA,KAAKK,MAAL,KAAgB,IAApB,EAA0B;;AAEtB,4CAAGL,KAAKiC,KAAL,IAAc,CAAjB,EAAmB;;AAEfb,6FAAyCpB,KAAKiC,KAA9C;;AAEAC,mDAAO,SAAP,EAAkBd,QAAlB;AACA9B,8CAAEgB,KAAF,CAAQc,QAAR;AAEH,yCAPD,MAOO;;AAEHA,8FAA0CpB,KAAKiC,KAA/C;;AAEAC,mDAAO,SAAP,EAAkBd,QAAlB;AACA9B,8CAAEgB,KAAF,CAAQc,QAAR;AAEH;AAEJ,qCAlBD,MAkBO,IAAIpB,KAAKS,EAAT,EAAa;AAChByB,+CAAO,SAAP,EAAkB,qCAAlB;AACAlB,iDAASmB,OAAT,CAAiB,IAAjB,EAAuBC,IAAvB,CAA4B,IAA5B;AAEH,qCAJM,MAIA;AACH;AACA1B,iDAASC,MAAT;AACH;AAEJ,iCA7BD;;AA+BAf,yCAASgB,IAAT,CAAc,YAAM;AAChB;AACAF,6CAASC,MAAT;AACH,iCAHD;AAKH;;AAtDI;;AAVJ;;AANH,iBAAV;AA8EH,aAhGD;AAkGH;;;0CAEiBtB,O,EAAS;;AAEvBC,cAAE+C,QAAF,EAAY9C,EAAZ,CAAe,OAAf,EAAwB,wBAAxB,EAAkD,YAAW;;AAEzD,oBAAIwB,oBAAJ;AAAA,oBACAC,iBADA;AAAA,oBAEAsB,wBAFA;AAAA,oBAGAC,sBAHA;AAAA,oBAIApB,eAJA;AAAA,oBAKAxB,mBALA;AAAA,oBAMAyB,iBANA;AAAA,oBAOAxB,iBAPA;;AASAoB,2BAAW1B,EAAE,IAAF,CAAX;AACAiD,gCAAgBjD,EAAE,IAAF,EAAQU,IAAR,CAAa,IAAb,CAAhB;;AAEAsC,kCAAkBhD,EAAE,IAAF,EAAQU,IAAR,CAAa,MAAb,CAAlB;;AAEAe,yFAAuEuB,eAAvE;;AAEAhD,kBAAE+B,OAAF,CAAU;AACNC,0BAAM,mBADA;AAENC,0BAAM,MAFA;AAGNC,kCAAc,IAHR;AAINC,2BAAO,cAJD;AAKNC,6BAASX,WALH;AAMNY,6BAAS;AACLC,gCAAQ;AACJC,kCAAM,UADF;AAEJC,kCAAM,CAAC,KAAD,CAFF;AAGJC,oCAAQ,kBAAY;AAChBzC,kCAAEgB,KAAF,CAAQ,YAAR;AACH;;AALG,yBADH;;AAULe,iCAAS;AACLQ,kCAAM,WADD;AAELG,sCAAU,UAFL;AAGLF,kCAAM,CAAC,OAAD,CAHD;AAILC,oCAAQ,kBAAY;;AAGhBZ,yCAAS;AACLV,wCAAI8B;AADC,iCAAT;;AAIA5C,6CAAa;AACTK,0CAAMmB,MADG;AAETlB,yCAAK;AAFI,iCAAb;;AAKAL,2CAAWM,YAAYC,IAAZ,CAAiBR,UAAjB,CAAX;;AAEAC,yCAASQ,IAAT,CAAc,UAACJ,IAAD,EAAU;;AAEpB,wCAAIA,KAAKK,MAAL,KAAgB,IAApB,EAA0B;;AAEtB,4CAAGL,KAAKiC,KAAL,IAAc,CAAjB,EAAmB;;AAEfb,6FAAyCpB,KAAKiC,KAA9C;;AAEAC,mDAAO,SAAP,EAAkBd,QAAlB;AACA9B,8CAAEgB,KAAF,CAAQc,QAAR;AAEH,yCAPD,MAOO;;AAEHA,8FAA0CpB,KAAKiC,KAA/C;;AAEAC,mDAAO,SAAP,EAAkBd,QAAlB;AACA9B,8CAAEgB,KAAF,CAAQc,QAAR;AAEH;AAEJ,qCAlBD,MAkBO,IAAIpB,KAAKS,EAAT,EAAa;AAChByB,+CAAO,SAAP,EAAkB,wCAAlB;AACAlB,iDAASmB,OAAT,CAAiB,eAAjB,EAAkCC,IAAlC,CAAuC,IAAvC;AAEH,qCAJM,MAIA;AACH;AACA1B,iDAASC,MAAT;AACH;AAEJ,iCA7BD;;AA+BAf,yCAASgB,IAAT,CAAc,YAAM;AAChB;AACAF,6CAASC,MAAT;AACH,iCAHD;AAKH;;AAtDI;;AAVJ;;AANH,iBAAV;AA8EH,aAhGD;AAmGH","file":"ListCategoryService.js","sourcesContent":["class ListCategoryService {\n\n    registerCategory(element) {\n\n        $(element).on('submit', function( event ) {\n            \n            event.preventDefault();\n\n            let values, parameters, response;\n                        \n            values = $(this).serialize();       \n\n            $('.modal-register-category').fadeOut('5000', function() {\n\n                $(this).modal('hide');\n                \n            });\n\n            parameters = {\n                data: values,\n                url: '/admin/ajax/category/register/'\n            };\n\n            response = HttpService.ajax(parameters);\n\n            response.done((data) => {\n\n                if (data.exists === true) {\n                    \n                    alert(`A categoria ${data.name}, já existe na base de dados!`);\n                    $('#value-category-name').val('');                    \n\n                } else if (data.id>0) {\n\n                    alert('Nova categoria cadastrada com sucesso!');\n                    location.reload();\n\n                }\n                else {\n                    //alert('Houve um erro na solicitação do pedido!');\n                    location.reload();\n                }\n\n            });\n\n            response.fail(() => {\n                //alert('Houve um erro na solicitação do pedido!');\n                location.reload();\n            });    \n\n        });\n\n    }\n\n\n    editCategory(element) {\n\n        $(element).on('submit', function( event ) {\n            \n            event.preventDefault();\n\n            let values, parameters, response;\n                        \n            values = $(this).serialize();       \n\n            $('.modal-edit-category').fadeOut('5000', function() {\n\n                $(this).modal('hide');\n                \n            });\n\n            parameters = {\n                data: values,\n                url: '/admin/ajax/category/update/'\n            };\n\n            response = HttpService.ajax(parameters);\n\n            response.done((data) => {\n\n                if (data.exists === true) {\n                    \n                    alert(`A categoria ${data.name}, já existe na base de dados!`);\n                    $('#value-category-name').val('');                    \n\n                } else if (data.category_id>0) {\n                    alert('Categoria alterada com sucesso!');\n                    location.reload();\n                }\n                else {\n                    //alert('Houve um erro na solicitação do pedido!');\n                    location.reload();\n                }\n\n            });\n\n            response.fail(() => {\n                //alert('Houve um erro na solicitação do pedido!');\n                location.reload();\n            });    \n\n        });\n\n    }\n\n    editSubcategory(element) {\n\n        $(element).on('submit', function( event ) {\n            \n            event.preventDefault();\n\n            let values, parameters, response;\n                        \n            values = $(this).serialize();       \n\n            $('.modal-edit-subcategory').fadeOut('5000', function() {\n\n                $(this).modal('hide');\n                \n            });\n\n            parameters = {\n                data: values,\n                url: '/admin/ajax/subcategory/update/'\n            };\n\n            response = HttpService.ajax(parameters);\n\n            response.done((data) => {\n\n                if (data.exists === true) {\n                    \n                    alert(`A subcategoria ${data.name}, já existe na base de dados!`);\n                    $('#value-subcategory-name').val('');\n\n                } else if (data.subcategory_id>0) {\n                    alert('Subcategoria alterada com sucesso!');\n                    location.reload();\n                }\n                else {\n                    //alert('Houve um erro na solicitação do pedido!');\n                    location.reload();\n                }\n\n            });\n\n            response.fail(() => {\n                //alert('Houve um erro na solicitação do pedido!');\n                location.reload();\n            });    \n\n        });\n\n    }\n\n    \n    registerSubcategory(element) {\n\n        $(element).on('submit', function( event ) {\n            \n            event.preventDefault();\n\n            let values, parameters, response;\n                        \n            values = $(this).serialize();       \n\n            $('.modal-register-subcategory').fadeOut('5000', function() {\n\n                $(this).modal('hide');\n                \n            });\n\n            parameters = {\n                data: values,\n                url: '/admin/ajax/subcategory/register/'\n            };\n\n            response = HttpService.ajax(parameters);\n\n            response.done((data) => {\n\n                if (data.exists === true) {\n                    \n                    alert(`A subcategoria ${data.name}, já existe na base de dados!`);\n                    $('#value-subcategory-name').val('');\n\n                } else if (data.id>0) {\n                    alert('Nova subcategoria cadastrada com sucesso!');\n                    location.reload();\n                }\n                else {\n                    //alert('Houve um erro na solicitação do pedido!');\n                    location.reload();\n                }\n\n            });\n\n            response.fail(() => {\n                //alert('Houve um erro na solicitação do pedido!');\n                location.reload();\n            });    \n\n        });\n\n    }\n\n    removeCategory(element) {\n\n        $(element).on('click', function() {\n\n            let textContent,\n            elemHtml,\n            category_name,\n            categoryId,\n            dataTo,\n            parameters,\n            txtAlert, \n            response;\n\n            elemHtml = $(this);\n            categoryId = $(this).data('id');\n\n            category_name = $(this).data('name');            \n\n            textContent = `Tem certeza que deseja remover a categoria <strong>${category_name}</strong> permanentemente?`;\n\n            $.confirm({\n                icon: 'fa fa-info-circle',\n                type: 'dark',\n                typeAnimated: true,\n                title: 'Confirmação!',\n                content: textContent,\n                buttons: {\n                    cancel: {\n                        text: 'Cancelar',\n                        keys: ['esc'],\n                        action: function () {\n                            $.alert('Cancelado!');\n                        }\n\n                    },\n\n                    confirm: {\n                        text: 'Confirmar',\n                        btnClass: 'btn-blue',\n                        keys: ['enter'],\n                        action: function () {\n             \n\n                            dataTo = {\n                                id: categoryId,\n                            };\n\n                            parameters = {\n                                data: dataTo,\n                                url: '/admin/ajax/category/remove/'\n                            };\n\n                            response = HttpService.ajax(parameters);\n\n                            response.done((data) => {\n\n                                if (data.exists === true) {\n\n                                    if(data.total <= 1){\n\n                                        txtAlert = `Solicitação Negada! Existe ${data.total} empresa cadastrada nesta categoria!`;\n\n                                        toastr[\"warning\"](txtAlert);         \n                                        $.alert(txtAlert); \n\n                                    } else {\n\n                                        txtAlert = `Solicitação Negada! Existem ${data.total} empresas cadastradas nesta categoria!`;\n\n                                        toastr[\"warning\"](txtAlert);         \n                                        $.alert(txtAlert); \n\n                                    }\n                                   \n                                } else if (data.id) {\n                                    toastr[\"success\"](\"Categoria foi excluída com sucesso!\");\n                                    elemHtml.parents('li').hide(3000);\n\n                                } else {\n                                    //alert('Houve um erro na solicitação do pedido!');\n                                    location.reload();\n                                }                                \n\n                            });\n\n                            response.fail(() => {\n                                //alert('Houve um erro na solicitação do pedido!');\n                                location.reload();\n                            });\n\n                        }\n\n                    }\n\n                }\n\n            });\n\n        });\n\n    }\n\n    removeSubcategory(element) {\n\n        $(document).on('click', '.jq_remove_subcategory', function() {\n\n            let textContent,\n            elemHtml,\n            subCategoryName,\n            subCategoryId,\n            dataTo,\n            parameters,\n            txtAlert, \n            response;\n\n            elemHtml = $(this);\n            subCategoryId = $(this).data('id');\n\n            subCategoryName = $(this).data('name');            \n\n            textContent = `Tem certeza que deseja remover a subcategoria <strong>${subCategoryName}</strong> permanentemente?`;\n\n            $.confirm({\n                icon: 'fa fa-info-circle',\n                type: 'dark',\n                typeAnimated: true,\n                title: 'Confirmação!',\n                content: textContent,\n                buttons: {\n                    cancel: {\n                        text: 'Cancelar',\n                        keys: ['esc'],\n                        action: function () {\n                            $.alert('Cancelado!');\n                        }\n\n                    },\n\n                    confirm: {\n                        text: 'Confirmar',\n                        btnClass: 'btn-blue',\n                        keys: ['enter'],\n                        action: function () {\n             \n\n                            dataTo = {\n                                id: subCategoryId,\n                            };\n\n                            parameters = {\n                                data: dataTo,\n                                url: '/admin/ajax/subcategory/remove/'\n                            };\n\n                            response = HttpService.ajax(parameters);\n\n                            response.done((data) => {\n\n                                if (data.exists === true) {\n\n                                    if(data.total <= 1){\n\n                                        txtAlert = `Solicitação Negada! Existe ${data.total} empresa cadastrada nesta subcategoria!`;\n\n                                        toastr[\"warning\"](txtAlert);         \n                                        $.alert(txtAlert); \n\n                                    } else {\n\n                                        txtAlert = `Solicitação Negada! Existem ${data.total} empresas cadastradas nesta subcategoria!`;\n\n                                        toastr[\"warning\"](txtAlert);         \n                                        $.alert(txtAlert); \n\n                                    }\n                                   \n                                } else if (data.id) {\n                                    toastr[\"success\"](\"Subcategoria foi excluída com sucesso!\");\n                                    elemHtml.parents('[data-jstree]').hide(3000);\n\n                                } else {\n                                    //alert('Houve um erro na solicitação do pedido!');\n                                    location.reload();\n                                }                                \n\n                            });\n\n                            response.fail(() => {\n                                //alert('Houve um erro na solicitação do pedido!');\n                                location.reload();\n                            });\n\n                        }\n\n                    }\n\n                }\n\n            });\n\n        });\n\n\n    }\n\n}\n"]}