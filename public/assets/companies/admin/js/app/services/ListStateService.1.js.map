{"version":3,"sources":["../../../../../../../resources/assets/js/src/companies/admin/app-es6/services/ListStateService.1.js"],"names":["ListStateService","element","$","on","textContent","elemStatus","typeStatus","dataTo","parameters","response","is","data","confirm","icon","type","typeAnimated","title","content","buttons","cancel","text","keys","action","alert","location","reload","btnClass","val","parents","addClass","removeClass","id","active","url","HttpService","ajax","done","toastr","fail"],"mappings":";;;;;;IAAMA,gB;;;;;;;qCAEWC,O,EAAS;;AAElBC,cAAED,OAAF,EAAWE,EAAX,CAAc,QAAd,EAAwB,YAAY;;AAEhC,oBAAIC,oBAAJ;AAAA,oBACIC,mBADJ;AAAA,oBAEIC,mBAFJ;AAAA,oBAGIC,eAHJ;AAAA,oBAIIC,mBAJJ;AAAA,oBAKIC,iBALJ;;AAOAJ,6BAAaH,EAAE,IAAF,CAAb;;AAEA,oBAAIG,WAAWK,EAAX,CAAc,UAAd,CAAJ,EAA+B;AAC3BJ,iCAAa,IAAb;AACH,iBAFD,MAEO;AACHA,iCAAa,KAAb;AACH;;AAEDF,sFAAoEE,UAApE,8CACiBD,WAAWM,IAAX,CAAgB,MAAhB,CADjB;;AAGAT,kBAAEU,OAAF,CAAU;AACNC,0BAAM,mBADA;AAENC,0BAAM,MAFA;AAGNC,kCAAc,IAHR;AAINC,2BAAO,cAJD;AAKNC,6BAASb,WALH;AAMNc,6BAAS;AACLC,gCAAQ;AACJC,kCAAM,UADF;AAEJC,kCAAM,CAAC,KAAD,CAFF;AAGJC,oCAAQ,kBAAY;AAChBpB,kCAAEqB,KAAF,CAAQ,YAAR;AACAC,yCAASC,MAAT;AACH;;AANG,yBADH;;AAWLb,iCAAS;AACLQ,kCAAM,WADD;AAELM,sCAAU,UAFL;AAGLL,kCAAM,CAAC,OAAD,CAHD;AAILC,oCAAQ,kBAAY;;AAEhB,oCAAIjB,WAAWK,EAAX,CAAc,UAAd,CAAJ,EAA+B;;AAE3BL,+CAAWsB,GAAX,CAAe,CAAf,EAAkBC,OAAlB,CAA0B,IAA1B,EACKC,QADL,CACc,cADd;AAGH,iCALD,MAKO;;AAEHxB,+CAAWsB,GAAX,CAAe,CAAf,EAAkBC,OAAlB,CAA0B,IAA1B,EACKE,WADL,CACiB,cADjB;AAEH;;AAEDvB,yCAAS;AACLwB,wCAAI1B,WAAWM,IAAX,CAAgB,IAAhB,CADC;AAELqB,4CAAQ3B,WAAWsB,GAAX;AAFH,iCAAT;;AAKAnB,6CAAa;AACTG,0CAAMJ,MADG;AAET0B,yCAAK;AAFI,iCAAb;;AAKAxB,2CAAWyB,YAAYC,IAAZ,CAAiB3B,UAAjB,CAAX;;AAEAC,yCAAS2B,IAAT,CAAc,UAACzB,IAAD,EAAU;;AAEpB,wCAAIA,KAAKqB,MAAL,IAAe,CAAnB,EAAsB;AAClBK,+CAAO,MAAP,EAAe,oCAAf;AACH,qCAFD,MAEO;AACHA,+CAAO,SAAP,EAAkB,iCAAlB;AACH;AAEJ,iCARD;;AAUA5B,yCAAS6B,IAAT,CAAc,YAAM;AAChBf,0CAAM,yCAAN;AACAC,6CAASC,MAAT;AACH,iCAHD;AAKH;;AA5CI;;AAXJ;;AANH,iBAAV;AAqEH,aAzFD;AA0FH","file":"ListStateService.1.js","sourcesContent":["class ListStateService {\n\n    updateStatus(element) {\n\n        $(element).on('change', function () {\n\n            let textContent,\n                elemStatus,\n                typeStatus,\n                dataTo,\n                parameters, \n                response;\n\n            elemStatus = $(this);\n\n            if (elemStatus.is(\":checked\")) {\n                typeStatus = 'ON';\n            } else {\n                typeStatus = 'OFF';\n            }\n\n            textContent = `Tem certeza que deseja mudar o status para <strong>${typeStatus}</strong>\n                em <strong>${elemStatus.data('name')}</strong>?`;\n\n            $.confirm({\n                icon: 'fa fa-info-circle',\n                type: 'dark',\n                typeAnimated: true,\n                title: 'Confirmação!',\n                content: textContent,\n                buttons: {\n                    cancel: {\n                        text: 'Cancelar',\n                        keys: ['esc'],\n                        action: function () {\n                            $.alert('Cancelado!');\n                            location.reload();\n                        }\n\n                    },\n\n                    confirm: {\n                        text: 'Confirmar',\n                        btnClass: 'btn-blue',\n                        keys: ['enter'],\n                        action: function () {\n\n                            if (elemStatus.is(\":checked\")) {\n\n                                elemStatus.val(1).parents('tr')\n                                    .addClass('color_status');\n\n                            } else {\n\n                                elemStatus.val(0).parents('tr')\n                                    .removeClass('color_status');\n                            }\n\n                            dataTo = {\n                                id: elemStatus.data('id'),\n                                active: elemStatus.val()\n                            };\n\n                            parameters = {\n                                data: dataTo,\n                                url: '/admin/ajax/state/update/status/'\n                            };  \n\n                            response = HttpService.ajax(parameters);\n\n                            response.done((data) => {\n\n                                if (data.active <= 0) {\n                                    toastr[\"info\"](\"Estado foi desativado com sucesso!\");\n                                } else {\n                                    toastr[\"success\"](\"Estado foi ativado com sucesso!\");\n                                }\n\n                            });\n\n                            response.fail(() => {\n                                alert('Houve um erro na solicitação do pedido!');\n                                location.reload();\n                            });\n\n                        }\n\n                    }\n\n                }\n\n            });\n\n        });\n    }\n\n}\n"]}