{"version":3,"sources":["../../../../../../../resources/assets/js/src/companies/admin/app-es6/services/ListPageService.js"],"names":["ListPageService","element","$","on","elemStatus","_changeStatus","textContent","element_html","page_name","page_id","dataTo","parameters","response","data","confirm","icon","type","typeAnimated","title","content","buttons","cancel","text","keys","action","alert","btnClass","parents","addClass","hide","id","url","HttpService","ajax","done","toastr","location","reload","fail","document","typeStatus","is","val","removeClass","active"],"mappings":"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","file":"ListPageService.js","sourcesContent":["class ListPageService {\n\n    updateStatus(element) {\n\n        $(element).on('change', function () {\n\n            let elemStatus = $(this);\n            ListPageService._changeStatus(elemStatus);\n\n        });\n    }\n\n    static changeStatusDocument(document) {\n\n        ListPageService._changeStatus(document);\n    }\n\n    static _changeStatus(elemStatus) {\n\n        let textContent,\n            typeStatus,\n            dataTo,\n            parameters,\n            response;\n\n        if (elemStatus.is(\":checked\")) {\n            typeStatus = 'ON';\n        } else {\n            typeStatus = 'OFF';\n        }\n\n        textContent = `Tem certeza que deseja mudar o status para <strong>${typeStatus}</strong>\n            em <strong>${elemStatus.data('name')}</strong>?`;\n\n        $.confirm({\n            icon: 'fa fa-info-circle',\n            type: 'dark',\n            typeAnimated: true,\n            title: 'Confirmação!',\n            content: textContent,\n            buttons: {\n                cancel: {\n                    text: 'Cancelar',\n                    keys: ['esc'],\n                    action: function () {\n                        $.alert('Cancelado!');\n                        location.reload();\n                    }\n\n                },\n\n                confirm: {\n                    text: 'Confirmar',\n                    btnClass: 'btn-blue',\n                    keys: ['enter'],\n                    action: function () {\n\n                        if (elemStatus.is(\":checked\")) {\n\n                            elemStatus.val(1).parents('tr')\n                                .addClass('color_status');\n\n                        } else {\n\n                            elemStatus.val(0).parents('tr')\n                                .removeClass('color_status');\n                        }\n\n                        dataTo = {\n                            id: elemStatus.data('id'),\n                            active: elemStatus.val()\n                        };\n\n                        parameters = {\n                            data: dataTo,\n                            url: '/admin/ajax/page/update/status/'\n                        };\n\n                        response = HttpService.ajax(parameters);\n\n                        response.done((data) => {\n\n                            if (data.active <= 0) {\n                                toastr[\"info\"](\"Página foi desativada com sucesso!\");\n                            } else {\n                                toastr[\"success\"](\"Página foi ativada com sucesso!\");\n                            }\n\n                        });\n\n                        response.fail(() => {\n                            //alert('Houve um erro na solicitação do pedido!');\n                            location.reload();\n                        });\n\n                    }\n\n                }\n\n            }\n\n        });\n    }\n\n    removePage(element) {\n\n        $(element).on('click', function() {\n\n            let textContent,\n            element_html,\n            page_name,\n            page_id,\n            dataTo,\n            parameters,\n            response;\n\n            element_html = $(this);\n            page_id = $(this).data('id');\n            page_name = $(this).data('name');\n\n            textContent = `Tem certeza que deseja remover a página <strong>${page_name}</strong> permanentemente?`;\n\n            $.confirm({\n                icon: 'fa fa-info-circle',\n                type: 'dark',\n                typeAnimated: true,\n                title: 'Confirmação!',\n                content: textContent,\n                buttons: {\n                    cancel: {\n                        text: 'Cancelar',\n                        keys: ['esc'],\n                        action: function () {\n                            $.alert('Cancelado!');\n                        }\n\n                    },\n\n                    confirm: {\n                        text: 'Confirmar',\n                        btnClass: 'btn-blue',\n                        keys: ['enter'],\n                        action: function () {\n\n                            element_html.parents('tr')\n                            .addClass('item_inative').hide(4000);\n\n                            dataTo = {\n                                id: page_id,\n                            };\n\n                            parameters = {\n                                data: dataTo,\n                                url: '/admin/ajax/page/remove/'\n                            };\n\n                            response = HttpService.ajax(parameters);\n\n                            response.done((data) => {\n\n                                if (data) {\n                                    toastr[\"success\"](\"Página foi excluída com sucesso!\");\n                                } else {\n                                    //alert('Houve um erro na solicitação do pedido!');\n                                    location.reload();\n                                }\n\n                            });\n\n                            response.fail(() => {\n                                //alert('Houve um erro na solicitação do pedido!');\n                                location.reload();\n                            });\n\n                        }\n\n                    }\n\n                }\n\n            });\n\n        });\n\n    }\n\n}\n"]}