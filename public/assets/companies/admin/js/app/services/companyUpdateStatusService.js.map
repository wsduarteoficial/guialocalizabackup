{"version":3,"sources":["../../../../../../../resources/assets/js/src/companies/admin/app-es6/services/companyUpdateStatusService.js"],"names":["companyUpdateStatusService","element","$","on","textContent","elemStatus","typeStatus","dataTo","parameters","response","is","data","confirm","icon","type","typeAnimated","title","content","buttons","cancel","text","keys","action","alert","location","reload","btnClass","val","parents","removeClass","hide","addClass","id","active","url","HttpService","ajax","done","toastr","fail"],"mappings":";;;;;;IAAMA,0B;;;;;;;+BAEKC,O,EAAS;;AAEZC,cAAED,OAAF,EAAWE,EAAX,CAAc,QAAd,EAAwB,YAAY;;AAEhC,oBAAIC,oBAAJ;AAAA,oBACIC,mBADJ;AAAA,oBAEIC,mBAFJ;AAAA,oBAGIC,eAHJ;AAAA,oBAIIC,mBAJJ;AAAA,oBAKIC,iBALJ;;AAOAJ,6BAAaH,EAAE,IAAF,CAAb;;AAEA,oBAAIG,WAAWK,EAAX,CAAc,UAAd,CAAJ,EAA+B;AAC3BJ,iCAAa,IAAb;AACH,iBAFD,MAEO;AACHA,iCAAa,KAAb;AACH;;AAEDF,sFAAoEE,UAApE,8CACiBD,WAAWM,IAAX,CAAgB,MAAhB,CADjB;;AAGAT,kBAAEU,OAAF,CAAU;AACNC,0BAAM,mBADA;AAENC,0BAAM,MAFA;AAGNC,kCAAc,IAHR;AAINC,2BAAO,cAJD;AAKNC,6BAASb,WALH;AAMNc,6BAAS;AACLC,gCAAQ;AACJC,kCAAM,UADF;AAEJC,kCAAM,CAAC,KAAD,CAFF;AAGJC,oCAAQ,kBAAY;AAChBpB,kCAAEqB,KAAF,CAAQ,YAAR;AACAC,yCAASC,MAAT;AACH;;AANG,yBADH;;AAWLb,iCAAS;AACLQ,kCAAM,WADD;AAELM,sCAAU,UAFL;AAGLL,kCAAM,CAAC,OAAD,CAHD;AAILC,oCAAQ,kBAAY;;AAEhB,oCAAIjB,WAAWK,EAAX,CAAc,UAAd,CAAJ,EAA+B;AAC3BL,+CAAWsB,GAAX,CAAe,CAAf,EAAkBC,OAAlB,CAA0B,IAA1B,EACKC,WADL,CACiB,cADjB,EACiCC,IADjC,CACsC,IADtC;AAGH,iCAJD,MAIO;;AAEHzB,+CAAWsB,GAAX,CAAe,CAAf,EAAkBC,OAAlB,CAA0B,IAA1B,EACKG,QADL,CACc,cADd,EAC8BD,IAD9B,CACmC,IADnC;AAEH;;AAGDvB,yCAAS;AACLyB,wCAAI3B,WAAWM,IAAX,CAAgB,IAAhB,CADC;AAELsB,4CAAQ5B,WAAWsB,GAAX;AAFH,iCAAT;;AAKAnB,6CAAa;AACTG,0CAAMJ,MADG;AAET2B,yCAAK;AAFI,iCAAb;;AAKAzB,2CAAW0B,YAAYC,IAAZ,CAAiB5B,UAAjB,CAAX;;AAEAC,yCAAS4B,IAAT,CAAc,UAAC1B,IAAD,EAAU;;AAEpB,wCAAIA,KAAKsB,MAAL,IAAe,CAAnB,EAAsB;AAClBK,+CAAO,MAAP,EAAe,6CAAf,EAA8D,UAA9D;AACH,qCAFD,MAEO;AACHA,+CAAO,SAAP,EAAkB,qDAAlB;AACH;AAEJ,iCARD;;AAUA7B,yCAAS8B,IAAT,CAAc,YAAM;AAChB;AACAf,6CAASC,MAAT;AACH,iCAHD;AAMH;;AA7CI;;AAXJ;;AANH,iBAAV;AAsEH,aA1FD;AA4FH","file":"companyUpdateStatusService.js","sourcesContent":["class companyUpdateStatusService {\n\n    update(element) {\n\n        $(element).on('change', function () {\n\n            let textContent,\n                elemStatus,\n                typeStatus,\n                dataTo,\n                parameters,\n                response;\n\n            elemStatus = $(this);\n\n            if (elemStatus.is(\":checked\")) {\n                typeStatus = 'ON';\n            } else {\n                typeStatus = 'OFF';\n            }\n\n            textContent = `Tem certeza que deseja mudar o status para <strong>${typeStatus}</strong>\n                em <strong>${elemStatus.data('name')}</strong>?`;\n\n            $.confirm({\n                icon: 'fa fa-info-circle',\n                type: 'dark',\n                typeAnimated: true,\n                title: 'Confirmação!',\n                content: textContent,\n                buttons: {\n                    cancel: {\n                        text: 'Cancelar',\n                        keys: ['esc'],\n                        action: function () {\n                            $.alert('Cancelado!');\n                            location.reload();\n                        }\n\n                    },\n\n                    confirm: {\n                        text: 'Confirmar',\n                        btnClass: 'btn-blue',\n                        keys: ['enter'],\n                        action: function () {\n\n                            if (elemStatus.is(\":checked\")) {\n                                elemStatus.val(1).parents('tr')\n                                    .removeClass('item_inative').hide(4000);\n\n                            } else {\n\n                                elemStatus.val(0).parents('tr')\n                                    .addClass('item_inative').hide(4000);\n                            }\n\n\n                            dataTo = {\n                                id: elemStatus.data('id'),\n                                active: elemStatus.val()\n                            };\n\n                            parameters = {\n                                data: dataTo,\n                                url: '/admin/ajax/company/update/status/active/'\n                            };\n\n                            response = HttpService.ajax(parameters);\n\n                            response.done((data) => {\n\n                                if (data.active <= 0) {\n                                    toastr[\"info\"](\"Empresa foi removida do índice de pesquisa.\", \"ATENÇÃO!\");\n                                } else {\n                                    toastr[\"success\"](\"Empresa incluída no índice de pesquisa com sucesso!\");\n                                }\n\n                            });\n\n                            response.fail(() => {\n                                //alert('Houve um erro na solicitação do pedido!');\n                                location.reload();\n                            });\n\n\n                        }\n\n                    }\n\n                }\n\n            });\n\n        });\n\n    }\n\n}"]}