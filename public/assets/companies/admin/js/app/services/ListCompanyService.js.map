{"version":3,"sources":["../../../../../../../resources/assets/js/src/companies/admin/app-es6/services/ListCompanyService.js"],"names":["ListCompanyService","parameters","url","HttpService","ajax","element","$","bind","textContent","elemRemove","response","data","confirm","icon","type","typeAnimated","title","content","buttons","cancel","text","keys","action","alert","btnClass","parents","addClass","hide","id","done","success","toastr","fail","location","reload","on","elemStatus","typeStatus","dataTo","is","val","removeClass","active","map","search","urlParam","numberPhone","phone","plan","replace","removeAttr","prop","stateId","state_id"],"mappings":"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","file":"ListCompanyService.js","sourcesContent":["class ListCompanyService {\n\n    categoriesActive() {\n        let parameters;\n        parameters = {\n            url: '/admin/ajax/category/active/'\n        };\n        return HttpService.ajax(parameters);\n    }\n\n    plansActive() {\n        let parameters;\n        parameters = {\n            url: '/admin/ajax/plan/active/'\n        };\n        return HttpService.ajax(parameters);\n    }\n\n    statesActive() {\n        let parameters;\n        parameters = {\n            url: '/admin/ajax/state/active/'\n        };\n        return HttpService.ajax(parameters);\n    }\n\n    static citiesActive(stateId) {\n        let parameters;\n        parameters = {\n            data: {state_id: stateId},\n            url: '/admin/ajax/city/active/'\n        };\n        return HttpService.ajax(parameters);\n    }\n\n    companyRemove(element) {\n\n        $(element).bind('click', function () {\n\n            let textContent,\n                elemRemove,\n                parameters,\n                response;\n\n            elemRemove = $(this);\n            textContent = `Tem certeza que deseja enviar para a lixeira <b>${elemRemove.data('name')}</>?`;\n\n            $.confirm({\n                icon: 'fa fa-info-circle',\n                type: 'red',\n                typeAnimated: true,\n                title: 'Confirmação de exclusão!',\n                content: textContent,\n                buttons: {\n                    cancel: {\n\n                        text: 'Cancelar',\n                        keys: ['esc'],\n                        action: function () {\n                            $.alert('Cancelado!');\n                        }\n\n                    },\n                    confirm: {\n\n                        text: 'Confirmar',\n                        btnClass: 'btn-blue',\n                        keys: ['enter'],\n                        action: function () {\n\n                            elemRemove.parents('tr')\n                                .addClass('item_inative').hide(4000);\n\n                            parameters = {\n\t\t\t\t\t            data:  {\n\t\t\t\t\t                id: elemRemove.data('id')\n\t\t\t\t\t            },\n\t\t\t\t\t            url: '/admin/ajax/company/remove/'\n\t\t\t\t\t        };\n\n\t\t\t\t\t        response = HttpService.ajax(parameters);\n\n                            response.done((data) => {\n\n                                if (data.success === true) {\n                                    toastr[\"success\"](\"Dados enviados para a lixeira sucesso!\");\n                                } else {\n                                    toastr[\"info\"](\"Houve um erro na solicitação do pedido!\", \"ATENÇÃO!\");\n                                }\n\n                            });\n\n                            response.fail(() => {\n                                //alert('Houve um erro na solicitação do pedido!');\n                                location.reload();\n                            });\n\n                        }\n\n                    }\n\n                }\n\n            });\n\n        });\n\n    }\n\n    companyUpdateStatus(element) {\n\n        $(element).on('change', function () {\n\n            let textContent,\n                elemStatus,\n                typeStatus,\n                dataTo,\n                parameters,\n                response;\n\n            elemStatus = $(this);\n\n            if (elemStatus.is(\":checked\")) {\n                typeStatus = 'ON';\n            } else {\n                typeStatus = 'OFF';\n            }\n\n            textContent = `Tem certeza que deseja mudar o status para <strong>${typeStatus}</strong>\n                em <strong>${elemStatus.data('name')}</strong>?`;\n\n            $.confirm({\n                icon: 'fa fa-info-circle',\n                type: 'dark',\n                typeAnimated: true,\n                title: 'Confirmação!',\n                content: textContent,\n                buttons: {\n                    cancel: {\n                        text: 'Cancelar',\n                        keys: ['esc'],\n                        action: function () {\n                            $.alert('Cancelado!');\n                            location.reload();\n                        }\n\n                    },\n\n                    confirm: {\n                        text: 'Confirmar',\n                        btnClass: 'btn-blue',\n                        keys: ['enter'],\n                        action: function () {\n\n                            if (elemStatus.is(\":checked\")) {\n                                elemStatus.val(1).parents('tr')\n                                    .removeClass('item_inative').hide(4000);\n\n                            } else {\n\n                                elemStatus.val(0).parents('tr')\n                                    .addClass('item_inative').hide(4000);\n                            }\n\n\n                            dataTo = {\n\t\t\t\t\t            id: elemStatus.data('id'),\n\t\t\t\t\t            active: elemStatus.val()\n\t\t\t\t\t        };\n\n\t\t\t\t\t        parameters = {\n\t\t\t\t\t            data: dataTo,\n\t\t\t\t\t            url: '/admin/ajax/company/update/status/active/'\n\t\t\t\t\t        };\n\n                            response = HttpService.ajax(parameters);\n\n                            response.done((data) => {\n\n                                if (data.active <= 0) {\n                                    toastr[\"info\"](\"Empresa foi removida do índice de pesquisa.\", \"ATENÇÃO!\");\n                                } else {\n                                    toastr[\"success\"](\"Empresa incluída no índice de pesquisa com sucesso!\");\n                                }\n\n                            });\n\n                            response.fail(() => {\n                                //alert('Houve um erro na solicitação do pedido!');\n                                location.reload();\n                            });\n\n\n                        }\n\n                    }\n\n                }\n\n            });\n\n        });\n\n    }\n\n    changeColorElementTr(element) {\n\n        $(element).map(function () {\n            if ($(this).is(\":checked\")) {\n                $(this).parents('tr')\n                    .removeClass('item_inative');\n            } else {\n                $(this).parents('tr').addClass('item_inative');\n            }\n\n        });\n\n    }\n\n    companyFormSearch(element) {\n\n        let search = $.urlParam('name_fantasy');\n        let active = $.urlParam('active');\n        let numberPhone = $.urlParam('numberPhone');\n        let phone = $.urlParam('phone');\n        let plan = $.urlParam('plan');\n\n        if (search) {\n            $('input[type=search]').val(search.replace(/\\+/g,' '));\n        }\n\n        $('input:radio[name=active]').removeAttr('checked');\n        $(`#active-${active}`).prop(\"checked\", true);\n\n        if (numberPhone) {\n            $('input[name=numberPhone]').val( numberPhone.replace(/\\+/g,' ') );\n        }\n\n        $('input:radio[name=phone]').removeAttr('checked');\n        $(`#phone-${phone}`).prop(\"checked\", true);\n\n    }\n\n\n}\n"]}